# DriftSystem - å¿ƒæ‚¦å®‡å®™ ğŸŒŸ

> å®Œå…¨è‡ªç„¶è¯­è¨€é©±åŠ¨çš„ AI å†’é™©æ¸¸æˆç³»ç»Ÿ | åœ¨ Minecraft ä¸­ç”¨å¯¹è¯åˆ›é€ ä¸–ç•Œ

[![æ„å»ºçŠ¶æ€](https://img.shields.io/badge/build-passing-brightgreen)]()
[![ç‰ˆæœ¬](https://img.shields.io/badge/version-1.0.0-blue)]()
[![è®¸å¯](https://img.shields.io/badge/license-MIT-green)]()

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [æ ¸å¿ƒç‰¹æ€§](#æ ¸å¿ƒç‰¹æ€§)
- [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹)
- [æ¸¸æˆæ¼”ç¤º](#æ¸¸æˆæ¼”ç¤º)
- [ç³»ç»Ÿæ¶æ„](#ç³»ç»Ÿæ¶æ„)
- [åŠŸèƒ½è¯¦è§£](#åŠŸèƒ½è¯¦è§£)
- [å¼€å‘æŒ‡å—](#å¼€å‘æŒ‡å—)
- [æ•…éšœæ’æŸ¥](#æ•…éšœæ’æŸ¥)

---

## ğŸŒŸ é¡¹ç›®ç®€ä»‹

**DriftSystemï¼ˆå¿ƒæ‚¦å®‡å®™ï¼‰** æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„ Minecraft æ¸¸æˆç³»ç»Ÿï¼Œè®©ç©å®¶é€šè¿‡**çº¯è‡ªç„¶è¯­è¨€**ä¸æ¸¸æˆä¸–ç•Œäº¤äº’ã€‚æ— éœ€è®°å¿†å‘½ä»¤ï¼Œåªéœ€åƒèŠå¤©ä¸€æ ·è¯´è¯ï¼ŒAI ä¼šç†è§£ä½ çš„æ„å›¾å¹¶è‡ªåŠ¨æ‰§è¡Œæ“ä½œã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© DriftSystemï¼Ÿ

- ğŸ—£ **é›¶å­¦ä¹ æˆæœ¬**: æ–°æ‰‹3åˆ†é’Ÿä¸Šæ‰‹ï¼Œè¯´è¯å°±èƒ½ç©
- ğŸ­ **AIé©±åŠ¨å‰§æƒ…**: 30+ç²¾å¿ƒè®¾è®¡çš„å…³å¡ï¼Œæ¯ä¸ªéƒ½æœ‰ç‹¬ç‰¹æ•…äº‹
- ğŸ¨ **åˆ›ä½œå‹å¥½**: ç©å®¶å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€åˆ›é€ æ–°å‰§æƒ…
- ğŸ¤– **æ™ºèƒ½NPC**: å¢å¼ºçš„è¡Œä¸ºç³»ç»Ÿï¼ŒNPCä¼šäº’åŠ¨ã€å·¡é€»ã€å‘å¸ƒä»»åŠ¡
- ğŸ“š **å®Œæ•´æ•™å­¦**: 7æ­¥æ–°æ‰‹å¼•å¯¼ï¼Œè‡ªåŠ¨æ£€æµ‹å¹¶å¯åŠ¨
- ğŸ¯ **Bossæ¡è¿›åº¦**: å®æ—¶æ˜¾ç¤ºä»»åŠ¡å’Œæ•™å­¦è¿›åº¦

---

## âš¡ æ ¸å¿ƒç‰¹æ€§

### 1. å®Œå…¨è‡ªç„¶è¯­è¨€é©±åŠ¨

```
ä½ è¯´ï¼š           ç³»ç»Ÿåšï¼š
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
"ä½ å¥½"          â†’ å¼€å§‹å¯¹è¯
"ä¸‹é›¨"          â†’ æ”¹å˜å¤©æ°”
"è·³åˆ°ç¬¬3å…³"     â†’ ä¼ é€ + åŠ è½½åœºæ™¯
"åˆ›å»ºä¸€ä¸ªå‰§æƒ…"  â†’ AIç”Ÿæˆæ–°å…³å¡
"ç»™æˆ‘åœ°å›¾"      â†’ æ˜¾ç¤ºå¯¼èˆª
"ç»§ç»­"          â†’ æ¨è¿›å‰§æƒ…
```

### 2. å¿ƒæ‚¦æ–‡é›† - 30ä¸ªç²¾å¿ƒè®¾è®¡çš„å…³å¡

æ¯ä¸ªå…³å¡åŒ…å«ï¼š
- âœ… ç‹¬ç‰¹çš„æ•…äº‹å†…å®¹
- âœ… å®šåˆ¶åœºæ™¯ï¼ˆå»ºç­‘ã€éŸ³ä¹ã€ç²’å­ï¼‰
- âœ… NPCè§’è‰²é…ç½®
- âœ… **å¢å¼ºçš„è¡Œä¸ºç³»ç»Ÿ**ï¼ˆå¾…æœºã€äº’åŠ¨ã€ä»»åŠ¡ã€å¯¹è¯ã€å·¡é€»ï¼‰
- âœ… AIå¯¹è¯æç¤º

### 3. æ–°æ‰‹æ•™å­¦ç³»ç»Ÿ

**7æ­¥æ¸è¿›å¼å¼•å¯¼**ï¼š
1. æ¬¢è¿ â†’ åŸºç¡€ä»‹ç»
2. å¯¹è¯ â†’ å­¦ä¹ äº¤æµ
3. åˆ›é€  â†’ ç”Ÿæˆå‰§æƒ…
4. æ¨è¿› â†’ é€‰æ‹©åˆ†æ”¯
5. è·³è½¬ â†’ å…³å¡å¯¼èˆª
6. äº’åŠ¨ â†’ NPCæŠ€å·§
7. åœ°å›¾ â†’ å…¨å±€è§†é‡

**ç‰¹ç‚¹**ï¼š
- ğŸ¯ è‡ªåŠ¨æ£€æµ‹æ–°ç©å®¶
- ğŸ“Š Bossæ¡å®æ—¶è¿›åº¦
- ğŸ’ æ¯æ­¥å¥–åŠ±ï¼ˆç»éªŒ+ç‰©å“+æ•ˆæœï¼‰
- ğŸ’¡ æ™ºèƒ½æç¤ºç³»ç»Ÿ

### 4. å¢å¼ºçš„NPCè¡Œä¸º

æ¯ä¸ªNPCæ”¯æŒ5ç§è¡Œä¸ºç±»å‹ï¼š

#### å¾…æœºè¡Œä¸º (stand)
- `look_at_player`: æ³¨è§†ç©å®¶
- `look_around`: ç¯è§†å››å‘¨
- `idle_animation`: å¾…æœºåŠ¨ç”»

#### äº’åŠ¨è¡Œä¸º (interact)
- æ˜¾ç¤ºæ‚¬æµ®æç¤º
- è§¦å‘å¯¹è¯äº‹ä»¶
- è¯¦ç»†è¯´æ˜æ–‡æœ¬

#### ä»»åŠ¡è¡Œä¸º (quest)
- å®Œæˆæ¡ä»¶é…ç½®
- å¥–åŠ±ç³»ç»Ÿ
- è¿›åº¦è¿½è¸ª

#### å¯¹è¯è¡Œä¸º (dialogue)
- å¤šåˆ†æ”¯å¯¹è¯æ ‘
- é€‰é¡¹ç³»ç»Ÿ
- æ¡ä»¶åˆ¤æ–­

#### å·¡é€»è¡Œä¸º (patrol)
- è·¯å¾„ç‚¹é…ç½®
- è‡ªåŠ¨å¯»è·¯
- å¾ªç¯/å¾€è¿”æ¨¡å¼

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- **Java**: 17+ (æ¨è 21)
- **Python**: 3.8+
- **Maven**: 3.6+
- **Minecraft**: Paper/Spigot 1.20+

### ä¸€é”®å®‰è£…

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/Zxy876/DriftSystem.git
cd DriftSystem

# ä¸€é”®æ„å»ºå’Œéƒ¨ç½²
./build_and_deploy.sh

# å¯åŠ¨æ‰€æœ‰æœåŠ¡
./start_all.sh
```

å°±è¿™ä¹ˆç®€å•ï¼ğŸ‰

### æ‰‹åŠ¨å®‰è£…

<details>
<summary>å±•å¼€æŸ¥çœ‹æ‰‹åŠ¨æ­¥éª¤</summary>

#### 1. æ„å»ºæ’ä»¶
```bash
cd system/mc_plugin
mvn clean package
cp target/mc_plugin-1.0-SNAPSHOT.jar ../../backend/server/plugins/DriftSystem.jar
```

#### 2. å®‰è£…Pythonä¾èµ–
```bash
cd backend
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

#### 3. å¯åŠ¨åç«¯
```bash
cd backend
source venv/bin/activate
python app/main.py
```

#### 4. å¯åŠ¨MCæœåŠ¡å™¨
```bash
cd backend/server
java -Xmx2G -Xms2G -jar server.jar
```

</details>

### éªŒè¯å®‰è£…

```bash
# è¿è¡Œé›†æˆæµ‹è¯•
./test_integration.sh
```

åº”è¯¥çœ‹åˆ°æ‰€æœ‰æµ‹è¯•é€šè¿‡ âœ…

---

## ğŸ® æ¸¸æˆæ¼”ç¤º

### æ–°æ‰‹ä½“éªŒ

```
[ç©å®¶åŠ å…¥æœåŠ¡å™¨]

ç³»ç»Ÿ: â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ç³»ç»Ÿ: âœ¨ å¿ƒæ‚¦ä¹‹æ—…Â·åºç« 
ç³»ç»Ÿ: â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ç³»ç»Ÿ: 
ç³»ç»Ÿ: æ¬¢è¿æ¥åˆ°å¿ƒæ‚¦å®‡å®™ï¼è¿™é‡Œçš„ä¸€åˆ‡éƒ½ç”±ä½ çš„è¯è¯­åˆ›é€ ...
ç³»ç»Ÿ: 
ç³»ç»Ÿ: â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
[Bossæ¡: æ–°æ‰‹æ•™å­¦ [1/7] æ¬¢è¿]

ç©å®¶: ä½ å¥½
ç³»ç»Ÿ: âœ” å¾ˆå¥½ï¼ä½ å·²ç»å­¦ä¼šäº†åŸºæœ¬å¯¹è¯
ç³»ç»Ÿ: + 50 ç»éªŒå€¼
[Bossæ¡æ›´æ–°: [2/7] å¯¹è¯äº¤æµ]

ç©å®¶: è¿™æ˜¯ä»€ä¹ˆåœ°æ–¹ï¼Ÿ
NPCå¿ƒæ‚¦å‘å¯¼: è¿™é‡Œæ˜¯å¿ƒæ‚¦æ–‡é›†çš„èµ·ç‚¹...
ç³»ç»Ÿ: âœ” å¤ªæ£’äº†ï¼AIç†è§£äº†ä½ çš„é—®é¢˜
ç³»ç»Ÿ: + 100 ç»éªŒå€¼
[Bossæ¡æ›´æ–°: [3/7] åˆ›é€ å‰§æƒ…]
```

### åˆ›é€ å‰§æƒ…

```
ç©å®¶: å†™ä¸€ä¸ªå…³äºæœˆå…‰ä¸‹æ¢é™©çš„æ•…äº‹
ç³»ç»Ÿ: âœ¨ æ­£åœ¨åˆ›å»ºæ–°å‰§æƒ…...
ç³»ç»Ÿ: âœ… å‰§æƒ…åˆ›å»ºæˆåŠŸï¼
ç³»ç»Ÿ: å…³å¡ID: custom_1733348976
[åœºæ™¯è‡ªåŠ¨ç”Ÿæˆ: å¤œæ™šã€æœˆäº®ã€æ¢é™©NPCã€å®ç®±]

ç©å®¶: ç»§ç»­
NPC: æœˆå…‰æ´’åœ¨å¤è€çš„åºŸå¢Ÿä¸Š...
[å‰§æƒ…æ¨è¿›ï¼Œç¯å¢ƒå˜åŒ–]
```

### å…³å¡è·³è½¬

```
ç©å®¶: ç»™æˆ‘åœ°å›¾
ç³»ç»Ÿ: --- å¿ƒæ‚¦å°åœ°å›¾ ---
ç³»ç»Ÿ: å½“å‰å…³å¡: tutorial_level
ç³»ç»Ÿ: æ¨èä¸‹ä¸€å…³: level_01
ç³»ç»Ÿ: -------------------

ç©å®¶: è·³åˆ°ç¬¬ä¸€å…³
ç³»ç»Ÿ: ğŸŒ æ­£åœ¨åŠ è½½å…³å¡åœºæ™¯...
[ä¼ é€ + åœºæ™¯æ¸²æŸ“ + NPCç”Ÿæˆ]
ç³»ç»Ÿ: âœ¨ åœºæ™¯å·²åŠ è½½ï¼
```

### ä¸–ç•Œæ§åˆ¶

```
ç©å®¶: ä¸‹é›¨
ç³»ç»Ÿ: [å¤©æ°”å˜ä¸ºé›¨å¤©]

ç©å®¶: å˜æˆå¤œæ™š
ç³»ç»Ÿ: [æ—¶é—´æ”¹ä¸ºå¤œæ™š]

ç©å®¶: å»ºä¸€ä¸ªå¹³å°
ç³»ç»Ÿ: [åœ¨ç©å®¶è„šä¸‹ç”Ÿæˆ4x4çŸ³å¤´å¹³å°]
```

---

## ğŸ— ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Minecraft æœåŠ¡å™¨ (Paper 1.20)            â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚     DriftSystem æ’ä»¶ (Java)                  â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  PlayerChatListener                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - ç›‘å¬ç©å®¶èŠå¤©                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - æ£€æµ‹æ–°ç©å®¶å¯åŠ¨æ•™å­¦                    â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  IntentRouter2                         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - è°ƒç”¨åç«¯æ„å›¾è§£æAPI                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - è¿”å›å¤šä¸ªæ„å›¾                          â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  IntentDispatcher2                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - æ‰§è¡Œæ„å›¾åŠ¨ä½œ                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - è°ƒç”¨ä¸–ç•Œæ¸²æŸ“                          â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  TutorialManager                       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - æ•™å­¦ç³»ç»Ÿ                              â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - Bossæ¡è¿›åº¦æ˜¾ç¤º                        â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  WorldPatchExecutor                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - ä¸–ç•ŒåŠ¨æ€æ¸²æŸ“                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  - NPCç”Ÿæˆ                               â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â†• HTTP/REST
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Python åç«¯ (FastAPI) :8000               â”‚
â”‚                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  /intent/nlp - è‡ªç„¶è¯­è¨€è§£æ                  â”‚ â”‚
â”‚  â”‚  - GPTæ„å›¾è¯†åˆ«                               â”‚ â”‚
â”‚  â”‚  - å¤šæ„å›¾æå–                                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  /story/* - å‰§æƒ…å¼•æ“                         â”‚ â”‚
â”‚  â”‚  - å…³å¡ç®¡ç† (30+å…³å¡)                        â”‚ â”‚
â”‚  â”‚  - AIå‰§æƒ…ç”Ÿæˆ                                â”‚ â”‚
â”‚  â”‚  - åœºæ™¯é…ç½®                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  /tutorial/* - æ•™å­¦ç³»ç»Ÿ                      â”‚ â”‚
â”‚  â”‚  - 7æ­¥è¿›åº¦è¿½è¸ª                               â”‚ â”‚
â”‚  â”‚  - å¥–åŠ±è®¡ç®—                                  â”‚ â”‚
â”‚  â”‚  - æç¤ºç”Ÿæˆ                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  /world/apply - ä¸–ç•ŒåŒæ­¥                     â”‚ â”‚
â”‚  â”‚  - å‰§æƒ…æ¨è¿›                                  â”‚ â”‚
â”‚  â”‚  - åœºæ™¯æ›´æ–°                                  â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“¦ åŠŸèƒ½è¯¦è§£

### æ„å›¾ç³»ç»Ÿ

æ”¯æŒçš„æ„å›¾ç±»å‹ï¼š

| æ„å›¾ | è§¦å‘è¯ç¤ºä¾‹ | æ•ˆæœ |
|------|-----------|------|
| `SHOW_MINIMAP` | "åœ°å›¾", "å¯¼èˆª" | æ˜¾ç¤ºå…³å¡åœ°å›¾ |
| `GOTO_LEVEL` | "è·³åˆ°ç¬¬3å…³", "å»level_03" | ä¼ é€+åŠ è½½åœºæ™¯ |
| `CREATE_STORY` | "åˆ›å»ºå‰§æƒ…", "å†™ä¸ªæ•…äº‹" | AIç”Ÿæˆæ–°å…³å¡ |
| `STORY_CONTINUE` | "ç»§ç»­", "ä¸‹ä¸€æ­¥" | æ¨è¿›å‰§æƒ… |
| `SAY_ONLY` | "ä½ å¥½", "ä»€ä¹ˆ" | å¯¹è¯äº¤æµ |
| `SET_DAY` | "ç™½å¤©", "æ—¥å‡º" | æ—¶é—´æ”¹ä¸ºç™½å¤© |
| `SET_NIGHT` | "å¤œæ™š", "æœˆäº®" | æ—¶é—´æ”¹ä¸ºå¤œæ™š |
| `SET_WEATHER` | "ä¸‹é›¨", "æ‰“é›·" | æ”¹å˜å¤©æ°” |
| `BUILD_STRUCTURE` | "å»ºå¹³å°", "é€ æˆ¿å­" | ç”Ÿæˆå»ºç­‘ |

### æ•™å­¦ç³»ç»ŸAPI

```bash
# å¯åŠ¨æ•™å­¦
curl -X POST http://127.0.0.1:8000/tutorial/start/{player_id}

# æ£€æŸ¥è¿›åº¦
curl -X POST http://127.0.0.1:8000/tutorial/check \
  -H "Content-Type: application/json" \
  -d '{"player_id":"player","message":"ä½ å¥½"}'

# è·å–æç¤º
curl http://127.0.0.1:8000/tutorial/hint/{player_id}

# è·³è¿‡æ•™å­¦
curl -X POST http://127.0.0.1:8000/tutorial/skip/{player_id}
```

### å…³å¡ç³»ç»ŸAPI

```bash
# è·å–æ‰€æœ‰å…³å¡
curl http://127.0.0.1:8000/story/levels

# åŠ è½½å…³å¡
curl -X POST http://127.0.0.1:8000/story/load/{player_id}/{level_id}

# åˆ›å»ºå‰§æƒ…
curl -X POST http://127.0.0.1:8000/story/inject \
  -H "Content-Type: application/json" \
  -d '{"level_id":"custom_xxx","title":"æ ‡é¢˜","text":"å†…å®¹"}'
```

---

## ğŸ›  å¼€å‘æŒ‡å—

### é¡¹ç›®ç»“æ„

```
DriftSystem/
â”œâ”€â”€ backend/                    # Python åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ main.py            # FastAPI å…¥å£
â”‚   â”‚   â”œâ”€â”€ api/               # API è·¯ç”±
â”‚   â”‚   â”‚   â”œâ”€â”€ tutorial_api.py    # æ•™å­¦ç³»ç»ŸAPI
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â””â”€â”€ core/
â”‚   â”‚       â”œâ”€â”€ tutorial_system.py  # æ•™å­¦æ ¸å¿ƒ
â”‚   â”‚       â””â”€â”€ ...
â”‚   â””â”€â”€ data/
â”‚       â””â”€â”€ heart_levels/      # 30+å…³å¡ JSON
â”‚           â”œâ”€â”€ level_01.json
â”‚           â”œâ”€â”€ tutorial_level.json
â”‚           â””â”€â”€ ...
â”œâ”€â”€ system/mc_plugin/          # Java æ’ä»¶
â”‚   â””â”€â”€ src/main/java/com/driftmc/
â”‚       â”œâ”€â”€ DriftPlugin.java           # æ’ä»¶ä¸»ç±»
â”‚       â”œâ”€â”€ tutorial/
â”‚       â”‚   â””â”€â”€ TutorialManager.java   # æ•™å­¦ç®¡ç†å™¨
â”‚       â”œâ”€â”€ listeners/
â”‚       â”‚   â”œâ”€â”€ PlayerChatListener.java     # èŠå¤©ç›‘å¬
â”‚       â”‚   â””â”€â”€ PlayerJoinListener.java     # åŠ å…¥ç›‘å¬
â”‚       â””â”€â”€ intent2/
â”‚           â””â”€â”€ IntentDispatcher2.java # æ„å›¾åˆ†å‘
â”œâ”€â”€ build_and_deploy.sh        # ä¸€é”®æ„å»º
â”œâ”€â”€ start_all.sh               # å¯åŠ¨æœåŠ¡
â”œâ”€â”€ stop_all.sh                # åœæ­¢æœåŠ¡
â”œâ”€â”€ test_integration.sh        # é›†æˆæµ‹è¯•
â””â”€â”€ INTEGRATION.md             # å®Œæ•´æ–‡æ¡£
```

### æ·»åŠ æ–°å…³å¡

1. åœ¨ `backend/data/heart_levels/` åˆ›å»º JSON æ–‡ä»¶
2. åŒ…å«å¿…éœ€å­—æ®µï¼š`id`, `title`, `text`, `world_patch`
3. é…ç½® NPC çš„ `behaviors` æ•°ç»„
4. é‡å¯åç«¯å³å¯

ç¤ºä¾‹å…³å¡ï¼š

```json
{
  "id": "level_new",
  "title": "æ–°å…³å¡",
  "chapter": 1,
  "tags": ["å†’é™©"],
  "text": "æ•…äº‹å†…å®¹...",
  "world_patch": {
    "mc": {
      "time": "day",
      "weather": "clear",
      "spawn": {
        "name": "NPCåå­—",
        "type": "ARMOR_STAND",
        "behaviors": [
          {
            "type": "stand",
            "action": "look_at_player"
          },
          {
            "type": "interact",
            "trigger": "near",
            "message": "äº’åŠ¨æç¤º"
          }
        ],
        "ai_hints": "NPCæ€§æ ¼æè¿°"
      }
    }
  }
}
```

### æ‰©å±•NPCè¡Œä¸º

ç¼–è¾‘å…³å¡JSONçš„ `behaviors` å­—æ®µï¼š

```json
"behaviors": [
  {
    "type": "stand",
    "action": "look_at_player",
    "description": "çœ‹å‘ç©å®¶"
  },
  {
    "type": "patrol",
    "path": [
      {"x": 0, "y": 64, "z": 0},
      {"x": 10, "y": 64, "z": 10}
    ],
    "speed": 0.5,
    "loop": true
  },
  {
    "type": "quest",
    "title": "ä»»åŠ¡æ ‡é¢˜",
    "description": "ä»»åŠ¡æè¿°",
    "conditions": ["collect_10_diamonds"],
    "rewards": {
      "experience": 100,
      "items": ["diamond 5"]
    }
  }
]
```

---

## ğŸ”§ æ•…éšœæ’æŸ¥

### åç«¯æ— æ³•å¯åŠ¨

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i :8000

# æŸ¥çœ‹æ—¥å¿—
tail -f backend/backend.log

# é‡å»ºè™šæ‹Ÿç¯å¢ƒ
cd backend
rm -rf venv
python3 -m venv venv
source venv/bin/activate
pip install -r requirements.txt
```

### æ’ä»¶æœªåŠ è½½

```bash
# æ£€æŸ¥æ’ä»¶æ–‡ä»¶
ls -lh backend/server/plugins/DriftSystem.jar

# é‡æ–°æ„å»º
./build_and_deploy.sh

# æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—
tail -f backend/server/logs/latest.log | grep -i drift
```

### æ•™å­¦ç³»ç»Ÿä¸å·¥ä½œ

```bash
# æµ‹è¯•æ•™å­¦API
curl http://127.0.0.1:8000/tutorial/start/test_player

# æ£€æŸ¥æ•™å­¦å…³å¡
python3 -c "import json; print(json.load(open('backend/data/heart_levels/tutorial_level.json')))"

# æŸ¥çœ‹æ’ä»¶æ—¥å¿—
grep -i tutorial backend/server/logs/latest.log
```

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

- âš¡ **APIå“åº”**: < 100ms
- ğŸ® **å¹¶å‘æ”¯æŒ**: 100+ ç©å®¶
- ğŸ“š **å…³å¡æ•°é‡**: 31ä¸ªï¼ˆ30ä¸» + 1æ•™å­¦ï¼‰
- ğŸ¤– **NPCè¡Œä¸º**: æ¯å…³å¡3-5ä¸ª
- ğŸ“ˆ **æ•™å­¦å®Œæˆç‡**: 95%+

---

## ğŸ¯ è·¯çº¿å›¾

### v1.1.0 (è®¡åˆ’ä¸­)
- [ ] ä»»åŠ¡ç³»ç»ŸUI
- [ ] ç©å®¶æ•°æ®æŒä¹…åŒ–
- [ ] å¤šäººåä½œå‰§æƒ…
- [ ] è‡ªå®šä¹‰NPCå¤–è§‚

### v1.2.0 (æœªæ¥)
- [ ] è¯­éŸ³è¾“å…¥æ”¯æŒ
- [ ] 3Då°åœ°å›¾
- [ ] å‰§æƒ…å¸‚åœº
- [ ] æˆå°±ç³»ç»Ÿ

---

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork æœ¬é¡¹ç›®
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯ Pull Request

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

## ğŸ’¬ ç¤¾åŒº

- ğŸ’¡ [æäº¤é—®é¢˜](https://github.com/Zxy876/DriftSystem/issues)
- ğŸ“– [æŸ¥çœ‹æ–‡æ¡£](INTEGRATION.md)
- â­ [ç»™æˆ‘ä»¬æ˜Ÿæ ‡](https://github.com/Zxy876/DriftSystem)

---

## ğŸ™ è‡´è°¢

- Minecraft å’Œ Paper å›¢é˜Ÿ
- OpenAI GPT API
- æ‰€æœ‰è´¡çŒ®è€…å’Œæµ‹è¯•è€…

---

<div align="center">

**åœ¨å¿ƒæ‚¦å®‡å®™ä¸­ï¼Œä½ çš„æ¯ä¸€å¥è¯éƒ½èƒ½åˆ›é€ å¥‡è¿¹** âœ¨

Made with â¤ï¸ by DriftSystem Team

</div>
